<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <div>
        <button id="btn1">Rock</button>
        <button id="btn2">Paper</button>
        <button id="btn3">Scissors</button>
    </div>
    <div class="result">
        <p>Round: <span id="round"></span> </p>
        <p>Round result: <span id="roundResult"></span> </p>
        <p>Human: <span id="human"></span> </p>
        <p>Computer: <span id="computer"></span> </p>
        <span id="winner"></span>
    </div>

    <script>

        let humanScore = 0;
        let computerScore = 0;
        let roundNr = 1;

        const round = document.querySelector('#round');
        const roundResult = document.querySelector('#roundResult');
        const human = document.querySelector('#human');
        const computer = document.querySelector('#computer');
        const buttons = document.querySelectorAll("button");
        const winner = document.querySelector('#winner');
        round.textContent = roundNr;

        buttons.forEach(button => {
            button.addEventListener('click', function (e) {
                // body
                switch (e.target.id) {
                    case 'btn1':
                        playRound("rock", getComputerChoice())
                        break;
                    case 'btn2':
                        playRound('paper', getComputerChoice())
                        break;
                    case 'btn3':
                        playRound('scissors', getComputerChoice())
                        break;
                }
            });
        });




        console.log('gongaga')

        function getComputerChoice() {
            let a = Math.floor(Math.random() * 3);
            console.log(a)
            switch (a) {
                case 0:
                    return "Rock"
                    break;
                case 1:
                    return "Paper"
                    break;
                case 2:
                    return "Scissors"
                    break;

                default:
                    break;
            }
        }

        function getHumanChoice() {
            let choice = prompt("Rock, Paper or Scissors? ")
            return choice
        }

        function playRound(humanChoice, computerChoice) {

            humanChoice = humanChoice.toLowerCase()
            computerChoice = computerChoice.toLowerCase()

            /*
            console.log(`Human: ${humanChoice}`)
            console.log(`Computer: ${computerChoice}\n`)
            */
            if (humanChoice == computerChoice) {
                console.log("It's a tie...")
                roundResult.textContent = "It's a tie...";
            } else if (humanChoice == "rock" && computerChoice == "paper") {
                console.log("Computer wins!")
                roundResult.textContent = "Computer wins oh yeah";
                ++computerScore;
            } else if (humanChoice == "rock" && computerChoice == "scissors") {
                console.log("Human wins!")
                roundResult.textContent = "Human wins oh yeah";
                ++humanScore;
            } else if (humanChoice == "paper" && computerChoice == "scissors") {
                console.log("Computer wins!")
                roundResult.textContent = "Computer wins oh yeah";
                ++computerScore;
            } else if (humanChoice == "paper" && computerChoice == "rock") {
                console.log("Human wins!")
                roundResult.textContent = "Human wins oh yeah";
                ++humanScore;
            } else if (humanChoice == "scissors" && computerChoice == "rock") {
                console.log("Computer wins!")
                roundResult.textContent = "Computer wins oh yeah";
                ++computerScore;
            } else if (humanChoice == "scissors" && computerChoice == "paper") {
                console.log("Human wins!")
                roundResult.textContent = "Human wins oh yeah";
                ++humanScore;
            }

            console.log(`Current score: Human: ${humanScore} Computer: ${computerScore}`)

            if (humanScore == 5) {
                winner.textContent = "Human is the final winner";

            } else if (computerScore == 5) {
                winner.textContent = "Computor is the final winner"
            }
            roundNr++;
            round.textContent = roundNr;
            human.textContent = humanScore;
            computer.textContent = computerScore;


        }

        function playGame(numberOfRounds) {

            for (let index = 1; index <= numberOfRounds; index++) {
                playRound(getHumanChoice(), getComputerChoice());
            }

            if (humanScore == computerScore) {
                console.log("That's a tie")
            } else if (humanScore > computerScore) {
                console.log("Human is the final winnoer")
            } else {
                console.log("Computor is the final winnoer")
            }

        }

        //let rounds = +prompt("How many rounds ?")

        //playGame(1)

    </script>
</body>

</html>